<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>comma-err.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Comma-err 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="comma-err.core.html"><span>comma-err.core</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="comma-err.core.html#var-case-err"><span>case-err</span></a></li><li><a href="comma-err.core.html#var-comma-err"><span>comma-err</span></a></li><li><a href="comma-err.core.html#var-condp-err"><span>condp-err</span></a></li><li><a href="comma-err.core.html#var-must"><span>must</span></a></li><li><a href="comma-err.core.html#var-when-err"><span>when-err</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>comma-err.core documentation</h2><pre class="doc"></pre><div class="public" id="var-case-err"><h3>case-err</h3><h4 class="macro">macro</h4><div class="usage"><code>(case-err f &amp; clauses)</code></div><pre class="doc">Catch errors in the [result err] style, and use a case statement to handle
them. The error is available in the 'err' var. This is equivalent to a
when-err with a case inside of it.

Examples:
(case-err (identity [5 nil])
  &quot;error1&quot; 6)
;=&gt; returns 5

(case-err (identity [nil (Exception. &quot;unhandled error 1&quot;)])
   FileNotFoundException (File/readAllBytes &quot;some/other/file.log&quot;)
   TimeoutException      :timeout
   :unhandled_error)
;=&gt; returns :unhandled_error</pre><div class="src-link"><a href="http://github.com/paulbellamy/comma-err/blob/0.1.0-SNAPSHOT/src/comma_err/core.clj#L53">Source</a></div></div><div class="public" id="var-comma-err"><h3>comma-err</h3><h4 class="macro">macro</h4><div class="usage"><code>(comma-err f)</code></div><pre class="doc">Takes a function call which would throw, and makes it return [result err].
The value of err is the thrown exception.

Example:
(comma-err (identity 6)                                ;=&gt; [6 nil]
(comma-err (throw (Exception. &quot;Something's wrong&quot;))) ;=&gt; [nil #&lt;Exception java.lang.Exception: Something's wrong&gt;]</pre><div class="src-link"><a href="http://github.com/paulbellamy/comma-err/blob/0.1.0-SNAPSHOT/src/comma_err/core.clj#L3">Source</a></div></div><div class="public" id="var-condp-err"><h3>condp-err</h3><h4 class="macro">macro</h4><div class="usage"><code>(condp-err pred f &amp; clauses)</code></div><pre class="doc">Catch errors in the [result err] style, and use a condp statement to handle
them. The error is available in the 'err' var. This is equivalent to a
when-err with a condp inside of it.

Examples:
(condp-err = (identity [5 nil])
  &quot;error1&quot; 6)
;=&gt; returns 5

(condp-err instance? (identity [nil (TimeoutException.)])
   FileNotFoundException (File/readAllBytes &quot;some/other/file.log&quot;)
   TimeoutException      :timeout
   :unhandled_error)
;=&gt; returns :timeout</pre><div class="src-link"><a href="http://github.com/paulbellamy/comma-err/blob/0.1.0-SNAPSHOT/src/comma_err/core.clj#L74">Source</a></div></div><div class="public" id="var-must"><h3>must</h3><h4 class="macro">macro</h4><div class="usage"><code>(must f)</code></div><pre class="doc">Takes a function call which would return [result err] and makes it throw an
exception if err is not nil. The message of the exception is err.

Example:
(must (identity [5 nil]))                     ;=&gt; 5
(must (identity [nil &quot;Something's wrong&quot;])) ;=&gt; throws an exception</pre><div class="src-link"><a href="http://github.com/paulbellamy/comma-err/blob/0.1.0-SNAPSHOT/src/comma_err/core.clj#L17">Source</a></div></div><div class="public" id="var-when-err"><h3>when-err</h3><h4 class="macro">macro</h4><div class="usage"><code>(when-err f &amp; handler)</code></div><pre class="doc">Catch errors in the [result err] style, and handle them somehow. The error
is available as the 'err' var. If error is nil, returns the 'result' value.
Otherwise, returns the result of the block.

Example:
(when-err (identity [5 nil])
  (comment &quot;handle an error here&quot;))
;=&gt; returns 5

(when-err (identity [nil &quot;error&quot;])
  (println &quot;something bad happened&quot;)
  (println (str &quot;Error: &quot; err))
  &quot;alternative result&quot;)
;=&gt; returns &quot;alternative result&quot;
</pre><div class="src-link"><a href="http://github.com/paulbellamy/comma-err/blob/0.1.0-SNAPSHOT/src/comma_err/core.clj#L30">Source</a></div></div></div></body></html>